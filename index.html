<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <!-- Bootstrap CSS -->
    <title> Share market Calculater</title>
    <link href='css/bootstrap.min.css' type="text/css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="card-header">
                Share market price caluclater
            </div>
            <div class="card-block">
                <div class="label">
                    Enter Open, High, Low, Close values here
                </div>
                <form>
                    <div class="row">
                        <div class="col-3">
                            <div id="open_group" class="form-group">
                                <label>Open</label>
                                <input type="number" id="open" class="form-control" placeholder="Open">
                            </div>
                        </div>
                        <div class="col-3">
                            <div id="low_group" class="form-group">
                                <label>Low</label>
                                <input type="number" id="low" class="form-control" placeholder="Low">
                            </div>
                        </div>
                        <div class="col-3">
                            <div id="high_group" class="form-group">
                                <label>High</label>
                                <input type="number" id="high" class="form-control" placeholder="High">
                            </div>
                        </div>
                        <div class="col-3">
                            <div id="close_group" class="form-group">
                                <label>Close</label>
                                <input type="number" id="close" class="form-control" placeholder="Close">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-6">
                                <div class="btn btn-success btn-block" id="submit" value="submit"> Submit </div>
                            </div>
                            <div class="col-6">
                                <div class="btn btn-danger btn-block" id="reset" value="submit"> Reset </div>
                            </div>                            
                        </div>
                    </div>
                </form>
                
                <div id="data_display" class="row">
                    <div style="background-color:rgb(126, 226, 126); text-align:center;" class="col-4">
                        <label>Range 1</label>
                        <div class="row">
                                <div id="range_1_high" class="col-6">
                                        High
                                </div>
                                <div id="range_1_low" class="col-6">
                                        Low
                                </div>
                        </div>
                    </div>
                    <div style="background-color:aqua;text-align:center;" class="col-4">
                        <label> Range 2</label>
                        <div class="row">
                                <div id="range_2_high" class="col-6">
                                        High
                                </div>
                                <div id="range_2_low" class="col-6">
                                        Low
                                </div>
                        </div>
                    </div>
                    <div style="background-color:orange;text-align:center;" class="col-4">
                        <label>Range 3</label>
                        <div class="row">
                                <div id="range_3_high" class="col-6">
                                        High
                                </div>
                                <div id="range_3_low" class="col-6">
                                        Low
                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
>
    <script src="js/jquery-3.2.1.slim.js" type="text/javascript"></script>
    <script src="js/tether.min.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    <script>
        $(document).ready(function(){
            $("#high").val("");
            $("#low").val("");
            $("#close").val("");
            $("#open").val("");
            $("#data_display").hide();
            // $('.form-control').on('input', function(){
            //         if($(this).hasClass('from-control-danger')){
            //             $(this).removeClass('form-control-danger');
            //             $(this).parent().removeClass('has-danger');
            //         }
            // });

            $("#reset").on('click', function(){
                $('#high_group, #low_group, #close_group, #open_group').each(function(){
                        $(this).removeClass('has-danger')
                        $(this).find('.form-control').removeClass('form-control-danger');
                });
                $("#high").val("");
                $("#low").val("");
                $("#close").val("");
                $("#open").val("");
                $("#data_display").hide();
            });
            $("#submit").on('click', function(){

                $('#high_group, #low_group, #close_group, #open_group').each(function(){
                    if( $(this).find('.form-control').val().length == 0){
                        $(this).addClass('has-danger')
                        $(this).find('.form-control').addClass('form-control-danger');
                    }else{
                        $(this).removeClass('has-danger')
                        $(this).find('.form-control').removeClass('form-control-danger');
                   
                        var high = Number($("#high").val());
                        var low = Number($("#low").val());
                        var close = Number($("#close").val());
                        var open = Number($("#open").val());

                        
                        console.log(high, low, close, open);

                        var hlc_2l = high + low + close + low;
                        var hlc_2h = high + low + close + high;
                        var hlc_2c = high + low + close + close;

                        var range_1_high = (hlc_2l / 2) - low;
                        var range_1_low = (hlc_2l / 2) - high;
                        var range_2_high = (hlc_2h / 2) - low;
                        var range_2_low = (hlc_2h / 2) - high;
                        var range_3_high = (hlc_2c / 2) - low;
                        var range_3_low = (hlc_2c / 2) - high;

                        $('#range_1_high').html(range_1_high.toFixed(3));
                        $('#range_1_low').html(range_1_low.toFixed(3));
                        $('#range_2_high').html(range_2_high.toFixed(3));
                        $('#range_2_low').html(range_2_low.toFixed(3));
                        $('#range_3_high').html(range_3_high.toFixed(3));
                        $('#range_3_low').html(range_3_low.toFixed(3));

                        $("#data_display").show();
                    }
                });

            });
        });
    </script>
</body>
</html>
